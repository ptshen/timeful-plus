# Timeful Docker Environment Configuration
# Copy this file to .env and fill in your values

# ==============================================
# REQUIRED SETTINGS FOR BASIC FUNCTIONALITY
# ==============================================

# Encryption Key (REQUIRED)
# Used to encrypt sensitive data in the database
# Generate a secure key with: openssl rand -base64 32
ENCRYPTION_KEY=your_encryption_key_here

# ==============================================
# OPTIONAL SETTINGS
# ==============================================

# Google OAuth Credentials (Optional - for calendar integration and user accounts)
# If not set, users can still create events anonymously without logging in
# 1. Go to https://console.cloud.google.com/
# 2. Create a new project or select existing one
# 3. Enable Google Calendar API and Google People API
# 4. Create OAuth 2.0 credentials (Web application type)
# 5. Add authorized redirect URI: http://localhost:3002/api/auth/google/callback (adjust domain for production)
# 6. Required scopes:
#    - https://www.googleapis.com/auth/calendar.events.readonly
#    - https://www.googleapis.com/auth/calendar.calendarlist.readonly
#    - https://www.googleapis.com/auth/contacts.readonly
CLIENT_ID=
CLIENT_SECRET=

# ==============================================
# OPTIONAL SETTINGS
# ==============================================

# Email Configuration (Optional - for sending email notifications)
# If not set, email features will be disabled
# Use Gmail App Password: https://support.google.com/accounts/answer/185833
GMAIL_APP_PASSWORD=
SCHEJ_EMAIL_ADDRESS=

# Listmonk Configuration (Optional - for email campaigns and newsletters)
# Self-hosted newsletter and mailing list manager
LISTMONK_URL=
LISTMONK_USERNAME=
LISTMONK_PASSWORD=
LISTMONK_LIST_ID=
LISTMONK_INITIAL_EMAIL_REMINDER_ID=
LISTMONK_SECOND_EMAIL_REMINDER_ID=
LISTMONK_FINAL_EMAIL_REMINDER_ID=

# Slack Webhooks (Optional - for monitoring and alerts)
SLACK_DEV_WEBHOOK_URL=
SLACK_PROD_WEBHOOK_URL=

# Stripe Payment Processing (Optional - for premium features)
# Only needed if you want to enable paid features
STRIPE_API_KEY=

# Google Cloud Service Account (Optional - for advanced features like Cloud Tasks)
# Path to service account key JSON file
SERVICE_ACCOUNT_KEY_PATH=

# PostHog Analytics (Optional - for usage analytics)
# Only needed if you want to track application usage
VUE_APP_POSTHOG_API_KEY=

# ==============================================
# DOCKER CONFIGURATION (Usually don't need to change)
# ==============================================

# Backend Host and Port (for nginx proxy configuration)
# Only change these if:
# - Using custom container names
# - Running backend on a different host
# - Using an external backend service
# Default: backend:3002 (Docker Compose networking)
# Examples:
#   - backend:3002 (default for Docker Compose)
#   - localhost:3002 (if running backend outside Docker)
#   - 192.168.1.100:3002 (if running on different machine)
BACKEND_HOST=backend
BACKEND_PORT=3002

# ==============================================
# ADVANCED SETTINGS (Usually don't need to change)
# ==============================================

# Base URL (Optional - IMPORTANT for custom domain deployments)
# The base URL where your application is hosted
# REQUIRED if using Google OAuth with a custom domain
# Examples:
#   - http://localhost:3002 (for local development with Docker)
#   - https://yourdomain.com (for production with custom domain)
# This URL is used for:
#   - OAuth redirect URIs (Google OAuth callback)
#   - Email links and event URLs
#   - Stripe payment redirects
# IMPORTANT: Must match the authorized redirect URI in your Google OAuth credentials
# Add this URL + "/api/auth/google/callback" to Google Console authorized redirect URIs
BASE_URL=

# CORS Allowed Origins (Optional - for custom domains)
# Comma-separated list of allowed origins for CORS
# By default, localhost:3002 and localhost:8080 are always allowed
# Add your custom domain(s) here if using a reverse proxy or custom domain
# Example: CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# Note: If set, this will be used INSTEAD of the default production domains (schej.it, timeful.app)
# Tip: Usually BASE_URL and CORS_ALLOWED_ORIGINS should include the same domain
CORS_ALLOWED_ORIGINS=

# MongoDB Configuration
# These are set automatically by docker-compose.yml
# Only change if you're using an external MongoDB instance
# MONGO_URI=mongodb://mongodb:27017
# MONGO_DB_NAME=schej-it

# ==============================================
# NOTES
# ==============================================
# 
# Minimum required setup for anonymous use (no logins):
# 1. Set ENCRYPTION_KEY
# 2. Run: docker compose up -d
# 3. Users can create events without logging in
#
# For full functionality with user accounts and calendar integration:
# 1. Set ENCRYPTION_KEY
# 2. Set CLIENT_ID and CLIENT_SECRET (Google OAuth)
# 3. Edit config.js with your CLIENT_ID as googleClientId
# 4. Run: docker compose up -d
#
# For custom backend location:
# 1. Set BACKEND_HOST and BACKEND_PORT to match your backend
# 2. Restart frontend: docker compose restart frontend
# 3. No rebuild required - changes take effect immediately
#
# The application will be available at:
# http://localhost:3002
#
# For production deployment:
# - Use a reverse proxy (nginx, traefik, caddy) with SSL
# - Update the Google OAuth redirect URI to match your domain
# - Update config.js with your googleClientId
# - Consider using Docker secrets for sensitive values
# - Set up proper backup for MongoDB volume
